(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{249:function(e){e.exports=JSON.parse('{"orga-common":{"delete":"删除","edit":"编辑","action":"操作","save":"保存","back":"取消","search":"搜索","add":"添加","orga":"组织","name":"名称","detail":"详情","close":"关闭"},"orga-table":{"name":"账号","nickname":"昵称","phone":"手机号","email":"邮箱","org":"部门","account":"帐号","orgaName":"所属机构","password":"初始密码","type":"用户目录","typeChild":"目录二级","thirdparty":"LDAP/AP","internal":"内部目录","dingding":"钉钉","acc":"ACC","wechat":"企业微信","all":"所有"},"adduser-module":{"addUser":"添加用户","editUser":"编辑用户","detailUser":"详情用户","userType":"用户类型","name":"账号","nickname":"昵称","phone":"手机号","email":"邮箱","org":"部门","account":"帐号","orgaName":"所属机构","password":"初始密码","type":"用户目录","typeChild":"目录二级","thirdparty":"LDAP/AP","internal":"内部目录","dingding":"钉钉","acc":"ACC","wechat":"企业微信","all":"所有","userTypeRequired":"用户类型必填!","emailRequired":"邮箱必填!","emailFormat":"邮箱格式不正确!","passwordRequired":"密码必填!","phoneRequired":"手机号必填!","nameRequired":"账号必填!","nicknameRequired":"请输入昵称!"},"orga-label":{"addUser":"添加用户","orgaName":"机构名称","parentOrg":"上级机构","parentOrgPlaceholder":"请选择上级机构","parentOrgRequired":"上级机构必填!","user":"用户","searchUser":"搜索用户名称","searchUserPhoneEmail":"搜索姓名、手机号、邮箱","searchUserAccount":"搜索用户名、帐号","userType":"用户目录"},"orga-tab":{"all":"全部","in":"内部","out":"外部"}}')},254:function(e,t,r){"use strict";var a=r(39);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DOMAIN_USER_STORE",{enumerable:!0,get:function(){return u.DOMAIN_USER_STORE}}),Object.defineProperty(t,"ORG_STORE",{enumerable:!0,get:function(){return i.ORG_STORE}}),Object.defineProperty(t,"USER_STORE",{enumerable:!0,get:function(){return l.USER_STORE}}),t.orgStores=void 0,Object.defineProperty(t,"privilegeStores",{enumerable:!0,get:function(){return o.privilegeStores}});var n=a(r(36)),u=r(347),i=r(348),l=r(335),o=r(127);var c;t.orgStores=(c={},(0,n.default)(c,i.ORG_STORE,new i.OrgStore),(0,n.default)(c,l.USER_STORE,new l.UserStore),(0,n.default)(c,u.DOMAIN_USER_STORE,new u.DomainUserStore),c)},271:function(e,t,r){"use strict";var a=r(39);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"user_cn",{enumerable:!0,get:function(){return n.default}});var n=a(r(337))},335:function(e,t,r){"use strict";var a=r(39);Object.defineProperty(t,"__esModule",{value:!0}),t.updatePassword=t.recoverPassword=t.UserStore=t.USER_STORE=void 0;var n,u,i,l,o,c,d,f,s,p,m,g,v,b,y,h,O,w,E,P,j,_,k,D,S,I=a(r(35)),x=a(r(109)),U=a(r(80)),A=a(r(69)),N=a(r(68)),R=(a(r(36)),a(r(81))),M=(a(r(82)),r(19)),C=r(9);t.UserStore=(n=(0,A.default)((function e(){(0,N.default)(this,e),(0,U.default)(this,"userData",u,this),(0,U.default)(this,"rolePage",i,this),(0,U.default)(this,"qywxconfig",l,this),(0,U.default)(this,"agentConfig",o,this),(0,U.default)(this,"getUserList",c,this),(0,U.default)(this,"editUser",d,this),(0,U.default)(this,"addUser",f,this),(0,U.default)(this,"deleteUser",s,this),(0,U.default)(this,"findUserPageAction",p,this),(0,U.default)(this,"findUser",m,this),(0,U.default)(this,"createUserAction",g,this),(0,U.default)(this,"updateUserAction",v,this),(0,U.default)(this,"deleteUserAction",b,this),(0,U.default)(this,"findRolePageAction",y,this),(0,U.default)(this,"deleteRoleUserAction",h,this),(0,U.default)(this,"createRoleUserAction",O,this),(0,U.default)(this,"findRoleUserListAction",w,this),(0,U.default)(this,"findRoleUserPageAction",E,this),(0,U.default)(this,"findUserOrgaList",P,this),(0,U.default)(this,"findUserDirList",j,this),(0,U.default)(this,"createProductAuthUser",_,this),(0,U.default)(this,"deleteExternalMember",k,this),(0,U.default)(this,"findWeChatContactConfig",D,this),(0,U.default)(this,"findWeChatApplyContactConfig",S,this)})),u=(0,R.default)(n.prototype,"userData",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=(0,R.default)(n.prototype,"rolePage",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{defaultCurrent:1,pageSize:6,total:1}}}),l=(0,R.default)(n.prototype,"qywxconfig",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=(0,R.default)(n.prototype,"agentConfig",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=(0,R.default)(n.prototype,"getUserList",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.userData=t}}}),d=(0,R.default)(n.prototype,"editUser",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.userData=e.userData.map((function(e){return e.id===t.id?t:e}))}}}),f=(0,R.default)(n.prototype,"addUser",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.userData=e.userData.concat(t)}}}),s=(0,R.default)(n.prototype,"deleteUser",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.userData=e.userData.filter((function(e){return e.id!==t}))}}}),p=(0,R.default)(n.prototype,"findUserPageAction",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,x.default)(I.default.mark((function e(t,r){return I.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/user/user/findUserPage",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),m=(0,R.default)(n.prototype,"findUser",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,x.default)(I.default.mark((function e(t,r){var a;return I.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("id",t),e.next=4,C.Axios.post("/user/user/findUser",a,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),g=(0,R.default)(n.prototype,"createUserAction",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,x.default)(I.default.mark((function e(t,r){return I.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/user/user/createUser",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),v=(0,R.default)(n.prototype,"updateUserAction",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,x.default)(I.default.mark((function e(t,r){return I.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/user/user/updateUser",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),b=(0,R.default)(n.prototype,"deleteUserAction",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,x.default)(I.default.mark((function e(t,r){return I.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/user/user/deleteUser",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),y=(0,R.default)(n.prototype,"findRolePageAction",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,x.default)(I.default.mark((function t(r,a){var n;return I.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.Axios.post("/role/findRolePage",r,a);case 2:return 0===(n=t.sent).code&&(e.rolePage.total=n.data.totalPage),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}}),h=(0,R.default)(n.prototype,"deleteRoleUserAction",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,x.default)(I.default.mark((function e(t,r){var a;return I.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("id",t),e.next=4,C.Axios.post("/roleUser/deleteRoleUser",a,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),O=(0,R.default)(n.prototype,"createRoleUserAction",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,x.default)(I.default.mark((function e(t,r){return I.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/roleUser/createRoleUser",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),w=(0,R.default)(n.prototype,"findRoleUserListAction",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,x.default)(I.default.mark((function e(t,r){return I.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/roleUser/findRoleUserList",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),E=(0,R.default)(n.prototype,"findRoleUserPageAction",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,x.default)(I.default.mark((function e(t,r){return I.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/roleUser/findRoleUserPage",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),P=(0,R.default)(n.prototype,"findUserOrgaList",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,x.default)(I.default.mark((function e(t,r){return I.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/user/userOrga/findUserOrgaList",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),j=(0,R.default)(n.prototype,"findUserDirList",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,x.default)(I.default.mark((function e(t,r){return I.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/user/userdir/findAllList",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),_=(0,R.default)(n.prototype,"createProductAuthUser",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,x.default)(I.default.mark((function e(t){return I.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/appAuthorization/createProductAuthUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),k=(0,R.default)(n.prototype,"deleteExternalMember",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,x.default)(I.default.mark((function e(t){return I.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/memberSaas/deleteMember",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),D=(0,R.default)(n.prototype,"findWeChatContactConfig",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,x.default)(I.default.mark((function t(r,a){var n,u;return I.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("url",r),n.append("tenantId",a),t.next=5,C.Axios.post("/wechatApplyToken/findWeChatContactConfig",n,{tenant:a});case 5:return 0===(u=t.sent).code&&(e.qywxconfig=u.data),t.abrupt("return",u);case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}}),S=(0,R.default)(n.prototype,"findWeChatApplyContactConfig",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,x.default)(I.default.mark((function t(r,a){var n,u;return I.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("url",r),n.append("tenantId",a),t.next=5,C.Axios.post("/wechatApplyToken/findWeChatApplyContactConfig",n,{tenant:a});case 5:return 0===(u=t.sent).code&&(e.agentConfig=u.data),t.abrupt("return",u);case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}}),n),t.USER_STORE="userStore",t.updatePassword=function(){var e=(0,x.default)(I.default.mark((function e(t){return I.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/user/user/updatePassword",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.recoverPassword=function(){var e=(0,x.default)(I.default.mark((function e(t){return I.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/user/user/recoverPassword",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},337:function(e,t,r){"use strict";r.r(t);var a=r(249);t.default=a},347:function(e,t,r){"use strict";var a=r(39);Object.defineProperty(t,"__esModule",{value:!0}),t.DomainUserStore=t.DOMAIN_USER_STORE=void 0;var n,u,i,l,o=a(r(35)),c=a(r(109)),d=a(r(80)),f=a(r(69)),s=a(r(68)),p=a(r(36)),m=a(r(81)),g=(a(r(82)),r(19)),v=r(9);t.DomainUserStore=(n=(0,f.default)((function e(){(0,s.default)(this,e),(0,d.default)(this,"privilegeDomainUsers",u,this),(0,d.default)(this,"getDomainUser",i,this),(0,d.default)(this,"deleteDomainUser",l,this),(0,p.default)(this,"findDmUserPageAction",function(){var e=(0,c.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Axios.post("/dmUser/findDmUserPage",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)(this,"deleteDmUserAction",function(){var e=(0,c.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,v.Axios.post("/dmUser/deleteDmUser",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)(this,"findDmUserListAction",function(){var e=(0,c.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Axios.post("/dmUser/findDmUserList",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)(this,"createDmUserAction",function(){var e=(0,c.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Axios.post("/dmUser/createDmUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)(this,"createDefaultRole",function(){var e=(0,c.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("userId",t.user.id),r.append("domainId",t.domainId),e.next=5,v.Axios.post("/dmRole/createDefaultRole",r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)(this,"findDmRoleUserListAction",function(){var e=(0,c.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Axios.post("/dmRoleUser/findDmRoleUserList",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)(this,"createDmRoleUserAction",function(){var e=(0,c.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Axios.post("/dmRoleUser/createDmRoleUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)(this,"deleteDmRoleUserAction",function(){var e=(0,c.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,v.Axios.post("/dmRoleUser/deleteDmRoleUser",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)(this,"findDmRoleListAction",function(){var e=(0,c.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Axios.post("/dmRole/findDmRoleList",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),u=(0,m.default)(n.prototype,"privilegeDomainUsers",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=(0,m.default)(n.prototype,"getDomainUser",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeDomainUsers=t}}}),l=(0,m.default)(n.prototype,"deleteDomainUser",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeDomainUsers=e.privilegeDomainUsers.filter((function(e){return e.id!==t}))}}}),n),t.DOMAIN_USER_STORE="domainUserStore"},348:function(e,t,r){"use strict";var a=r(39);Object.defineProperty(t,"__esModule",{value:!0}),t.OrgStore=t.ORG_STORE=void 0;var n,u,i,l,o,c,d,f,s,p,m,g,v,b=a(r(35)),y=a(r(109)),h=a(r(80)),O=a(r(69)),w=a(r(68)),E=a(r(36)),P=a(r(81)),j=(a(r(82)),r(19)),_=r(9);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,E.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.OrgStore=(n=(0,O.default)((function e(){(0,w.default)(this,e),(0,h.default)(this,"treeData",u,this),(0,h.default)(this,"selectData",i,this),(0,h.default)(this,"selectTreeOrgDetail",l,this),(0,h.default)(this,"addTree",o,this),(0,h.default)(this,"editTree",c,this),(0,h.default)(this,"findOpenUserDirListAction",d,this),(0,h.default)(this,"deleteOrgaAction",f,this),(0,h.default)(this,"findOrgaAction",s,this),(0,h.default)(this,"findOrgaTreeAction",p,this),(0,h.default)(this,"deleteUserOrgaAction",m,this),(0,h.default)(this,"findUserOrgaPageAction",g,this),(0,h.default)(this,"updateOrgaSortAction",v,this)})),u=(0,P.default)(n.prototype,"treeData",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=(0,P.default)(n.prototype,"selectData",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=(0,P.default)(n.prototype,"selectTreeOrgDetail",[j.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.selectData=t}}}),o=(0,P.default)(n.prototype,"addTree",[j.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.treeData=e.treeData.map((function(e){return e.children?D(D({},e),{},{children:e.children.concat(t)}):D(D({},e),{},{children:[t]})}))}}}),c=(0,P.default)(n.prototype,"editTree",[j.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.treeData=e.treeData.map((function(e){return e.orgaId===t.orgaId?D(D({},e),t):(e.children=e.children.map((function(e){return e.orgaId===t.orgaId?D(D({},e),t):e})),e)}))}}}),d=(0,P.default)(n.prototype,"findOpenUserDirListAction",[j.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,y.default)(b.default.mark((function e(){return b.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Axios.post("/user/userdir/findOpenList");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}}),f=(0,P.default)(n.prototype,"deleteOrgaAction",[j.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,y.default)(b.default.mark((function t(r){var a,n;return b.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("id",r),t.next=4,_.Axios.post("/user/orga/deleteOrga",a);case 4:return(n=t.sent).code||(e.treeData=e.treeData.filter((function(e){if(e.orgaId!==r)return e.children&&e.children.length>0&&(e.children=e.children.filter((function(e){return e.orgaId!==r}))),e}))),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),s=(0,P.default)(n.prototype,"findOrgaAction",[j.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(b.default.mark((function e(t){var r;return b.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,_.Axios.post("/user/orga/findOrga",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),p=(0,P.default)(n.prototype,"findOrgaTreeAction",[j.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,y.default)(b.default.mark((function t(r){var a;return b.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.Axios.post("/user/orga/findOrgaTree",r);case 2:return(a=t.sent).code||(e.treeData=a.data),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),m=(0,P.default)(n.prototype,"deleteUserOrgaAction",[j.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(b.default.mark((function e(t){var r;return b.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,_.Axios.post("/user/userOrga/deleteUserOrga",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),g=(0,P.default)(n.prototype,"findUserOrgaPageAction",[j.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(b.default.mark((function e(t){var r;return b.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Axios.post("/user/userOrga/findUserOrgaPage",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),v=(0,P.default)(n.prototype,"updateOrgaSortAction",[j.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(b.default.mark((function e(t){return b.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Axios.post("/user/orga/updateSort",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),n),t.ORG_STORE="orgStore"},571:function(e,t,r){"use strict";var a=r(39);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BaseModal",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"BreadCrumb",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"Btn",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Profile",{enumerable:!0,get:function(){return i.default}});var n=a(r(694)),u=a(r(697)),i=a(r(699)),l=a(r(701)),o=a(r(642))},599:function(e,t,r){"use strict";var a=r(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(0)),u=r(9);r(707);t.default=function(e){var t=e.link,r=e.module,a=(0,u.getUser)();return n.default.createElement("div",{className:"thoughtware_mask"},n.default.createElement("div",null,"当前为统一登录模式"),n.default.createElement("div",{className:"thoughtware_mask_action",onClick:function(){return e=JSON.parse(localStorage.getItem(u.LOCALSTORAGE_KEY.AUTH_CONFIG)).authServiceUrl,r="".concat(e,"/#/setting").concat(t,"?").concat((0,u.parseUserSearchParams)({ticket:a.ticket})),window.open(r);var e,r}},"请前往Darth进行",r,"相关操作。"))}},608:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(226);var u=a(r(142));r(225);var i=a(r(141)),l=a(r(146));r(97);var o=a(r(46)),c=a(r(145)),d=a(r(36)),f=a(r(123)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),p=r(60),m=r(9),g=r(571);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,d.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,p.inject)("userStore")((0,p.observer)((function(e){var t=e.visible,r=e.handleOk,a=e.handleCancel,n=e.allSelectIds,d=e.userStore,p=e.selectedRowKeys,v=e.setSelectedRowKeys,b=e.userDir,h=d.findUserPageAction,O=(0,s.useState)([]),w=(0,f.default)(O,2),E=w[0],P=w[1],j=(0,s.useState)({pageSize:6,currentPage:1}),_=(0,f.default)(j,1)[0],k=(0,s.useState)(1),D=(0,f.default)(k,2),S=D[0],I=D[1],x=(0,s.useState)({}),U=(0,f.default)(x,2),A=U[0],N=U[1],R=(0,s.useState)({pageParam:_}),M=(0,f.default)(R,2),C=M[0],T=M[1],z=(0,s.useState)([]),L=(0,f.default)(z,2),W=L[0],F=L[1];(0,s.useEffect)((function(){b?F(b):m.Axios.post("/user/userdir/findAllList").then((function(e){e.code||F(e.data)}))}),[b]),(0,s.useEffect)((function(){B(y({},C))}),[C]);var B=function(e){h(e).then((function(e){e.code||(N({totalRecord:e.data.totalRecord,totalPage:e.data.totalPage}),P(e.data.dataList))}))},G=function(e){return n&&n.some((function(t){return t===e.id}))},q={selectedRowKeys:p,onSelectAll:function(e,t,r){var a=r.map((function(e){return e&&e.id})).filter((function(e){return void 0!==e}));if(e){var n=Array.from(new Set([].concat((0,c.default)(a),(0,c.default)(p))));v(n)}else{var u=p.filter((function(e){return!a.includes(e)}));v(u)}},onSelect:function(e){return K(e)},getCheckboxProps:function(e){return{disabled:G(e)}}},K=function(e){G(e)||(p.indexOf(e.id)>=0?p.splice(p.indexOf(e.id),1):p.push(e.id),v((0,c.default)(p)))},V=[{title:"账号",dataIndex:"nickname",key:"nickname",width:"35%",ellipsis:!0,render:function(e,t){return s.default.createElement(o.default,null,s.default.createElement(g.Profile,{userInfo:t}),e)}},{title:"手机号",dataIndex:"phone",key:"phone",width:"25%",ellipsis:!0,render:function(e){return e||"--"}},{title:"邮箱",dataIndex:"email",key:"email",width:"25%",ellipsis:!0,render:function(e){return e||"--"}},{title:"用户目录",dataIndex:"dirId",key:"dirId",width:"15%",ellipsis:!0,render:function(e){var t=W.findIndex((function(t){return t.id===e}));return t>-1?W[t].name:"--"}}];return s.default.createElement(g.BaseModal,{title:"选择用户",visible:t,onCancel:a,onOk:r,width:800,destroyOnClose:!0},s.default.createElement("div",null,s.default.createElement(i.default,{placeholder:"搜索账号、手机号、邮箱",style:{width:240},onPressEnter:function(e){return function(e){var t=y(y({},C),{},{nickname:e.target.value,pageParam:_});T(t)}(e)},prefix:s.default.createElement(l.default,{style:{fontSize:"var(--thoughtware-icon-size-16)"}})}),s.default.createElement("div",{style:{width:"100%"}},s.default.createElement(u.default,{columns:V,dataSource:E,rowSelection:q,onRow:function(e){return{onClick:function(){return K(e)}}},rowKey:function(e){return e.id},pagination:!1}),s.default.createElement(g.Page,{currentPage:S,changPage:function(e){I(e);var t=y(y({},C),{},{pageParam:{pageSize:6,currentPage:e}});T(t)},page:A}))))})))},622:function(e,t,r){"use strict";r.r(t)},642:function(e,t,r){"use strict";var a=r(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(97);var n=a(r(46)),u=a(r(0));r(695);t.default=function(e){var t=e.icon,r=e.type,a=e.title,i=e.onClick,l=e.isMar,o=e.children;return u.default.createElement("div",{className:"user-btn ".concat(r?"user-btn-".concat(r):""," ").concat(l?"user-btn-mar":""),onClick:i},u.default.createElement(n.default,null,t&&u.default.createElement("span",{className:"user-btn-icon"},t),o||a))}},643:function(e,t,r){"use strict";r.r(t)},644:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(r(35));r(144);var i=a(r(64));r(327);var l=a(r(124));r(225);var o=a(r(141));r(198);var c=a(r(42)),d=a(r(199)),f=a(r(109)),s=a(r(36)),p=a(r(123)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),g=r(197),v=["role"];function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.isEdit,r=e.data,a=void 0===r?{}:r,n=e.visible,s=e.bgroup,b=e.userStore,y=e.getUserPage,O=e.handleCancel,w=e.userDir,E=void 0===w?[]:w,P=e.adduserform,j=b.rolePage,_=b.createRoleUserAction,k=b.createUserAction,D=b.deleteRoleUserAction,S=b.findRolePageAction,I=b.updateUserAction,x=b.createProductAuthUser,U=(0,g.useTranslation)().t,A=(0,m.useState)(1),N=(0,p.default)(A,2),R=N[0],M=N[1],C=(0,m.useState)([]),T=(0,p.default)(C,2),z=T[0],L=T[1];(0,m.useEffect)((function(){n&&W({pageParam:{pageSize:10,currentPage:R},bgroup:s});return function(){L([])}}),[n]);var W=function(e){S(e).then((function(r){if(0===r.code){var n,u=z.concat(r.data.dataList);if(L(u),t)P.setFieldsValue(h(h({},a),{},{role:(a.roleList||[]).map((function(e){return e.id}))}));else P.setFieldsValue({role:[null===(n=u[0])||void 0===n?void 0:n.id]});M(e.pageParam.currentPage)}}))},F=function(){var e=(0,f.default)(u.default.mark((function e(r){var n,i,l,o;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.role,i=(0,d.default)(r,v),l=h(h({},i),{},{type:0,dirId:"1"}),!t){e.next=9;break}return l=h(h({},i),{},{id:a.id,type:a.type,dirId:a.dirId}),e.next=6,I(l);case 6:o=e.sent,e.next=12;break;case 9:return e.next=11,k(l);case 11:o=e.sent;case 12:0===o.code?t?B(n):(q(o.data),K(n,o.data)):c.default.error(o.msg);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){var t=(a.roleList||[]).map((function(e){return e.id})),r=(a.roleList||[]).reduce((function(e,t,r){return e[t.id]=t.roleUserId,e}),{}),n=t.reduce((function(t,a,n){return e.includes(a)||t.push(r[a]),t}),[]),u=e.reduce((function(e,r,a){return t.includes(r)||e.push(r),e}),[]);0===n.length?K(u,a.id):G(n).then((function(){K(u,a.id)}))},G=function(e){var t=e.map((function(e){return D(e)}));return Promise.all(t)},q=function(e){x({user:{id:e}})},K=function(e,t){if(Array.isArray(e)){var r=e.map((function(e){return _({userId:t,role:{id:e}})}));Promise.all(r).then((function(e){O(),y()}))}else{_({userId:t,role:{id:e}}).then((function(e){0===e.code&&(O(),y())}))}},V=function(e,t){var r=P.getFieldValue,a=P.setFieldsValue,n=r("phone"),u=r("email"),i=r("name");if(t)switch(e.field){case"name":a({phone:n}),a({email:u});break;case"phone":a({name:i}),a({email:u});break;default:a({name:i}),a({phone:n})}else switch(e.field){case"name":if(!n&&!u)return Promise.reject("账号、邮箱、手机号不能同时为空");break;case"phone":if(!i&&!u)return Promise.reject("账号、邮箱、手机号不能同时为空");break;default:if(!i&&!n)return Promise.reject("账号、邮箱、手机号不能同时为空")}return Promise.resolve()};return m.default.createElement(l.default,{form:P,onFinish:F,preserve:!1,layout:"vertical"},m.default.createElement(l.default.Item,{label:U("adduser-module.nickname"),name:"nickname",rules:[{required:!0,message:U("adduser-module.nicknameRequired")}]},m.default.createElement(o.default,{id:"user-add-nickname",disabled:a.dirId&&"1"!==a.dirId||!1})),m.default.createElement(l.default.Item,{label:U("adduser-module.name"),name:"name",rules:t||"1"===a.dirId?[{pattern:/^[a-zA-Z0-9_-]{0,16}$/,message:"账号最长16位(字母，数字，下划线，减号)"},{validator:V}]:[{validator:V}]},m.default.createElement(o.default,{disabled:a.dirId&&"1"!==a.dirId||!1})),m.default.createElement(l.default.Item,{label:U("adduser-module.phone"),name:"phone",rules:[{pattern:/^(?:(?:\+|00)86)?1[3-9]\d{9}$/,message:"手机号码不正确"},{validator:V}]},m.default.createElement(o.default,{disabled:a.dirId&&"1"!==a.dirId||!1})),m.default.createElement(l.default.Item,{label:U("adduser-module.email"),name:"email",rules:[{type:"email",message:U("adduser-module.emailFormat")},{validator:V}]},m.default.createElement(o.default,{disabled:a.dirId&&"1"!==a.dirId||!1})),!t&&m.default.createElement(l.default.Item,{label:U("adduser-module.password"),name:"password",rules:(!t||"1"===a.dirId)&&[{required:!0,message:U("adduser-module.passwordRequired")}]},m.default.createElement(o.default,{disabled:a.dirId&&"1"!==a.dirId||!1})),m.default.createElement(l.default.Item,{label:U("adduser-module.userType"),name:"dirId",initialValue:"1",rules:[{required:!0,message:U("adduser-module.userTypeRequired")}]},m.default.createElement(i.default,{disabled:!0},E.map((function(e){return m.default.createElement(i.default.Option,{key:e.id,value:e.id},e.name)})))),m.default.createElement(l.default.Item,{label:"角色",name:"role",initialValue:z.length>0?[z[0].id]:[],rules:[{required:!0,message:U("adduser-module.userTypeRequired")}]},m.default.createElement(i.default,{mode:"multiple",onPopupScroll:function(e){e.persist();var t=e.target;t.scrollTop+t.offsetHeight===t.scrollHeight&&(R<j.total&&W({pageParam:{pageSize:10,currentPage:R+1}}))}},z.map((function(e){return m.default.createElement(i.default.Option,{key:e.id,value:e.id},e.name)})))))}},645:function(e,t,r){"use strict";r.r(t)},646:function(e,t,r){"use strict";r.r(t)},657:function(e,t,r){"use strict";r.r(t)},664:function(e,t,r){"use strict";r(622)},665:function(e,t,r){"use strict";var a=r(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(666));t.default=n.default},666:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(99);var u=a(r(50)),i=a(r(36)),l=a(r(123)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),c=r(60),d=r(9),f=a(r(667)),s=a(r(704)),p=a(r(599)),m=r(571),g=r(254);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}r(622);t.default=(0,c.inject)(g.ORG_STORE)((0,c.observer)((function(e){var t=e.orgStore,r=t.selectData,a=t.selectTreeOrgDetail,n=t.findOrgaAction,c=t.findOrgaTreeAction,g=t.findUserOrgaPageAction,v=t.findOpenUserDirListAction,y=(0,o.useState)(""),h=(0,l.default)(y,2),O=h[0],w=h[1],E=(0,o.useState)(null),P=(0,l.default)(E,2),j=P[0],_=P[1],k=(0,o.useState)(10),D=(0,l.default)(k,1)[0],S=(0,o.useState)(1),I=(0,l.default)(S,2),x=I[0],U=I[1],A=(0,o.useState)({}),N=(0,l.default)(A,2),R=N[0],M=N[1],C=(0,o.useState)([]),T=(0,l.default)(C,2),z=T[0],L=T[1],W=(0,o.useState)({}),F=(0,l.default)(W,2),B=F[0],G=F[1],q=(0,o.useState)([]),K=(0,l.default)(q,2),V=K[0],J=K[1],H=(0,o.useState)([]),Y=(0,l.default)(H,2),$=Y[0],Z=Y[1];(0,o.useEffect)((function(){v().then((function(e){e.code||Z(e.data)}))}),[]),(0,o.useEffect)((function(){Q()}),[B]);var Q=function(){c(B).then((function(e){if(!e.code)if(J(e.data&&e.data),e.data.length){var t=e.data[0];ee({orgaId:t.orgaId}),w(t.orgaId)}else a(null),w("")}))},X=function(e,t,r){var a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({pageParam:{currentPage:t,pageSize:D}},e);g(a).then((function(e){e.code||(M({totalPage:e.data.totalPage,totalRecord:e.data.totalRecord}),L(e.data.dataList))}))},ee=function(e){e.parentOrga?_(e.parentOrga.orgaId):_(null),n(e.orgaId).then((function(t){t.code||(w(e.orgaId),U(1),a({orgName:t.data.orgaName,parentOrg:t.data.parentOrga?t.data.parentOrga.orgaName:null,userDirType:t.data.dirId}),X({orgaId:e.orgaId},1))})).catch((function(e){}))},te=localStorage.getItem(d.LOCALSTORAGE_KEY.AUTH_CONFIG);if(te){var re=JSON.parse(te);if(!re.authType&&-1===re.appName.indexOf("darth"))return o.default.createElement(p.default,{module:"部门",link:"/orga"})}return o.default.createElement("div",{className:"orga_container"},o.default.createElement("div",{className:"orga_container_body"},o.default.createElement(f.default,{treeData:V,onSelect:ee,treeParams:B,getAllTree:Q,setTreeParams:G,orgStore:t,userDir:$}),o.default.createElement("div",{className:"orga_table"},o.default.createElement("div",{className:"orga_table_right"},o.default.createElement(m.BreadCrumb,{firstItem:"部门"}),r?o.default.createElement(s.default,{data:r,tableData:z,page:R,currentPage:x,orgId:O,parentOrgaId:j,getOrgaUser:X,restTableData:function(e){U(e),X({orgaId:O},e)},userDir:$}):o.default.createElement("div",{className:"org-table"},o.default.createElement(u.default,{description:o.default.createElement("span",null,"组织树结构为空，你需要创建一个")}))))))})))},667:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(550);var u=a(r(540));r(225);var i=a(r(141)),l=a(r(146));r(144);var o=a(r(64)),c=a(r(744));r(97);var d=a(r(46));r(239);var f=a(r(113)),s=a(r(156));r(125);var p=a(r(52)),m=a(r(234));r(229);var g=a(r(143)),v=a(r(36));r(198);var b=a(r(42)),y=a(r(123)),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=j(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),O=r(19),w=r(197),E=r(238),P=a(r(693));function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(j=function(e){return e?r:t})(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(703);t.default=function(e){var t,r,a=e.treeData,n=e.onSelect,v=e.orgStore,j=e.getAllTree,_=e.setTreeParams,D=e.userDir,S=e.treeParams,I=void 0===S?{}:S,x=v.deleteOrgaAction,U=v.findOrgaAction,A=v.updateOrgaSortAction,N=(0,w.useTranslation)().t,R=(0,h.useState)(!1),M=(0,y.default)(R,2),C=M[0],T=M[1],z=(0,h.useState)({}),L=(0,y.default)(z,2),W=L[0],F=L[1],B=(0,h.useState)(!1),G=(0,y.default)(B,2),q=G[0],K=G[1],V=function(e){return h.default.createElement("div",{className:"orga-tree-actions-menu"},h.default.createElement(E.PrivilegeButton,{code:"orga_update_orga"},h.default.createElement("div",{className:"orga-tree-actions-item",onClick:function(t){return function(e,t){e.stopPropagation(),U(t.orgaId).then((function(e){e.code||(F(e.data),K(!0),T(!0))}))}(t,e)}},"编辑组织")),"111111"!==e.orgaId&&h.default.createElement(E.PrivilegeButton,{code:"orga_delete_orga"},h.default.createElement(g.default,{placement:"topRight",title:"你确定删除吗",onConfirm:function(t){return function(e,t){if(e.stopPropagation(),t.children.length>0)return b.default.error("组织中存在部门,不能删除");x(t.orgaId).then((function(e){e.code||j()}))}(t,e)},okText:"确定",cancelText:"取消"},h.default.createElement("div",{className:"orga-tree-actions-item",onClick:function(e){return e.stopPropagation()}},"删除组织"))))},J=function(e){return h.default.createElement("div",{className:"thoughtware_tree_actions"},h.default.createElement(d.default,null,h.default.createElement(E.PrivilegeButton,{code:"orga_add_orga"},h.default.createElement(p.default,{title:"添加部门"},h.default.createElement(m.default,{onClick:function(t){return function(e,t){e.stopPropagation(),F(t),T(!0)}(t,e)},style:{fontSize:"var(--thoughtware-icon-size-16)"}}))),h.default.createElement(f.default,{overlay:V(e),trigger:["click","hover"]},h.default.createElement(s.default,{style:{fontSize:"var(--thoughtware-icon-size-16)",padding:4},onClick:function(e){return e.stopPropagation()}}))))},H=function(e){return h.default.createElement("span",{className:"orga-tree_item_action"},"111111"===e.orgaId?h.default.createElement(d.default,null,h.default.createElement(c.default,{style:{fontSize:"var(--thoughtware-icon-size-16)"}}),e.orgaName):e.orgaName,"1"===e.dirId&&J(e))};return h.default.createElement("div",{className:"orga-tree-wrap"},h.default.createElement(i.default.Group,{compact:!0},h.default.createElement(o.default,{placeholder:"目录类型",style:{width:"40%"},onSelect:function(e){-1===e?I.orgaName?_({orgaName:I.orgaName}):_({}):_(k(k({},I),{},{dirId:e}))}},h.default.createElement(o.default.Option,{key:"-1",value:-1},N("orga-table.all")),D.map((function(e){return h.default.createElement(o.default.Option,{key:e.id,value:e.id},e.name)}))),h.default.createElement(i.default,{placeholder:N("orga-common.search")+N("orga-common.orga")+N("orga-common.name"),style:{width:"60%"},onPressEnter:function(e){return function(e){var t=e.target.value;_(k(k({},I),{},{orgaName:t}))}(e)},prefix:h.default.createElement(l.default,{style:{fontSize:"var(--thoughtware-icon-size-16)"}})})),h.default.createElement("div",{className:"orga-tree-wrap-tree"},h.default.createElement("div",{className:"orga-tree-content"},h.default.createElement(u.default.DirectoryTree,{className:"draggable-tree",draggable:!0,blockNode:!0,showIcon:!1,onDrop:function(e){var t=e.node.props.eventKey,r=e.dragNode.props.eventKey,a=e.node.parentOrga.orgaId,n=e.dragNode.parentOrga.orgaId,u=e.node.sort,i=e.dragNode.sort;if(a!==n)return b.default.error("仅允许同层级部门排序");var l={list:[{parentOrga:e.node.parentOrga,orgaName:e.node.orgaName,orgaId:t,sort:i,dirId:e.node.dirId},{parentOrga:e.dragNode.parentOrga,orgaName:e.dragNode.orgaName,orgaId:r,sort:u,dirId:e.dragNode.dirId}]};A(l).then((function(e){j()}))},defaultSelectedKeys:["111111"],treeData:(t=(0,O.toJS)(a),r=[],function e(t,r){t.forEach((function(t,a){var n={key:t.orgaId,orgaName:t.orgaName,title:H(t),sort:t.sort,dirId:t.dirId,parentOrga:t.parentOrga,children:[]};r.push(n),t.children&&t.children.length>0&&e(t.children,r[a].children)}))}(t,r),r),onSelect:function(e,t){var r=t.node,a={orgaName:r.orgaName,parentOrga:r.parentOrga,sort:r.sort,orgaId:r.key,dirId:r.dirId,path:r.path};n(a)},defaultExpandAll:!0}))),h.default.createElement(P.default,{visible:C,cancelAddOrg:function(){T(!1),F({}),K(!1)},editData:W,isEdit:q,getAllTree:j,userDir:D}))}},693:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(144);var u=a(r(64));r(529);var i=a(r(523));r(225);var l=a(r(141)),o=a(r(36));r(327);var c=a(r(124)),d=a(r(123)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),s=r(19),p=r(60),m=r(9),g=r(197),v=r(571);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,p.inject)("orgStore")((0,p.observer)((function(e){var t=e.visible,r=e.cancelAddOrg,a=e.editData,n=void 0===a?{}:a,o=e.isEdit,p=void 0!==o&&o,b=e.getAllTree,y=e.userDir,O=void 0===y?[]:y,w=e.orgStore.findOrgaTreeAction,E=c.default.useForm(),P=(0,d.default)(E,1)[0],j=(0,g.useTranslation)().t,_=(0,f.useState)(null),k=(0,d.default)(_,2),D=k[0],S=k[1],I=(0,f.useState)([]),x=(0,d.default)(I,2),U=x[0],A=x[1];(0,f.useEffect)((function(){n&&(p?(P.setFieldsValue({parentOrga:n.parentOrga?n.parentOrga.orgaId:null,orgaName:n.orgaName,dirId:n.dirId}),S(n.path)):(P.setFieldsValue({parentOrga:n.orgaId}),n.path?S("".concat(n.orgaId,",").concat(n.path)):S("".concat(n.orgaId))))}),[n,p]),(0,f.useEffect)((function(){t&&w({dirId:"1"}).then((function(e){e.code||A(e.data)}))}),[t]);var N;return f.default.createElement(v.BaseModal,{title:p?j("orga-common.edit")+j("orga-common.orga"):j("orga-common.add")+j("orga-common.orga"),visible:t,onCancel:function(){P.resetFields(),r()},onOk:function(){P.submit()},destroyOnClose:!0,preserve:!1,forceRender:!0},f.default.createElement(c.default,{form:P,onFinish:function(e){var t="/user/orga/createOrga",a={orgaName:e.orgaName,parentOrga:{orgaId:e.parentOrga},dirId:e.dirId,path:D};p&&(t="/user/orga/updateOrga",a=h(h({},a),{},{orgaId:n.orgaId})),m.Axios.post(t,a).then((function(e){e.code||(b(),P.resetFields(),r())}))},layout:"vertical"},f.default.createElement(c.default.Item,{label:j("orga-label.orgaName"),name:"orgaName",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},f.default.createElement(l.default,null)),f.default.createElement(c.default.Item,{label:j("orga-label.parentOrg"),name:"parentOrga"},f.default.createElement(i.default,{disabled:!0,style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:(N=[],function e(t,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var u={};if(t.orgaId===n.orgaId){if(u={title:t.orgaName,value:t.orgaId,path:t.path,disabled:!0},r.push(u),t.children&&t.children.length>0)return e(t.children,u.children=[],u.disabled)}else u={title:t.orgaName,value:t.orgaId,path:t.path,disabled:a},r.push(u);if(t.children&&t.children.length>0)return e(t.children,u.children=[],a)}))}((0,s.toJS)(U.filter((function(e){return!e.parentOrga}))),N),N),placeholder:j("orga-label.parentOrgPlaceholder"),treeDefaultExpandedKeys:[U.length>0&&U[0].orgaId],onChange:function(e,t,r){var a=r.triggerNode.props.path;S(a?"".concat(a,",").concat(e):e)}})),f.default.createElement(c.default.Item,{label:j("orga-label.userType"),name:"dirId",initialValue:"1",rules:[{required:!0,message:j("orga-table.userTypeRequired")}]},f.default.createElement(u.default,{disabled:!0},O.map((function(e){return f.default.createElement(u.default.Option,{key:e.id,value:e.id},e.name)}))))))})))},694:function(e,t,r){"use strict";var a=r(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(331);var n=a(r(232)),u=a(r(235)),i=a(r(199)),l=a(r(0)),o=a(r(642));r(696);var c=["children","footer"];t.default=function(e){var t=e.children,r=e.footer,a=(0,i.default)(e,c),d=l.default.createElement(l.default.Fragment,null,l.default.createElement(o.default,{onClick:a.onCancel,title:"取消",isMar:!0}),l.default.createElement(o.default,{onClick:a.onOk,title:"确定",type:"primary"}));return l.default.createElement(n.default,(0,u.default)({style:{maxWidth:"calc(100vw - 120px)",maxHeight:"calc(100vh - 120px)",marginRight:"auto",marginLeft:"auto",position:"absolute",top:60,right:0,left:0,height:"100%",display:"flex",flexDirection:"column"},wrapClassName:"thoughtware_modal",closable:!1,destroyOnClose:!0,footer:r||d},a),t)}},695:function(e,t,r){"use strict";r.r(t)},696:function(e,t,r){"use strict";r.r(t)},697:function(e,t,r){"use strict";var a=r(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(97);var n=a(r(46)),u=a(r(128)),i=a(r(0));r(698);t.default=function(e){var t=e.firstItem,r=e.secondItem,a=e.onClick,l=e.children;return i.default.createElement("div",{className:"user-breadcrumb"},i.default.createElement(n.default,null,i.default.createElement("span",{className:a?"user-breadcrumb-first":"",onClick:a},a&&i.default.createElement(u.default,{style:{marginRight:8}}),i.default.createElement("span",{className:r?"user-breadcrumb-span":""},t)),r&&i.default.createElement("span",null," /   ",r)),i.default.createElement("div",null,l))}},698:function(e,t,r){"use strict";r.r(t)},699:function(e,t,r){"use strict";var a=r(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(521));r(328);var u=a(r(126)),i=a(r(0)),l=r(9);r(700);t.default=function(e){var t=e.userInfo,r=void 0===t?void 0:t,a=r||(0,l.getUser)();return i.default.createElement("div",{className:"thoughtware-profile"},a.avatar&&"null"!==a.avatar?i.default.createElement(u.default,{src:a.avatar}):a.nickname&&"null"!==a.nickname?i.default.createElement(u.default,null,a.nickname.substring(0,1)):a.name&&"null"!==a.name?i.default.createElement(u.default,null,a.name.substring(0,1)):i.default.createElement(u.default,{size:32,icon:i.default.createElement(n.default,null)}))}},700:function(e,t,r){"use strict";r.r(t)},701:function(e,t,r){"use strict";var a=r(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(89)),u=a(r(128)),i=a(r(0));r(702);t.default=function(e){var t=e.currentPage,r=e.changPage,a=e.page,l=a.totalPage,o=void 0===l?1:l,c=a.totalRecord,d=void 0===c?1:c;return o>1&&i.default.createElement("div",{className:"user-page"},i.default.createElement("div",{className:"".concat(1===t?"user-page-ban":"user-page-allow"),onClick:function(){return 1===t?null:r(t-1)}},i.default.createElement(u.default,null)),i.default.createElement("div",{className:"user-page-current"},t),i.default.createElement("div",{className:"user-page-line"}," / "),i.default.createElement("div",null,o),i.default.createElement("div",{className:"".concat(t===o?"user-page-ban":"user-page-allow"),onClick:function(){return t===o?null:r(t+1)}},i.default.createElement(n.default,null)),i.default.createElement("div",{className:"user-page-record"},"  共",d,"条 "))}},702:function(e,t,r){"use strict";r.r(t)},703:function(e,t,r){"use strict";r.r(t)},704:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(r(235));r(226);var i=a(r(142)),l=a(r(234));r(125);var o=a(r(52));r(229);var c=a(r(143)),d=a(r(233));r(97);var f=a(r(46)),s=a(r(123)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),m=r(60),g=r(197),v=r(238),b=r(571),y=a(r(705));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}r(706);t.default=(0,m.inject)("orgStore")((0,m.observer)((function(e){var t=e.data,r=e.tableData,a=e.page,n=e.orgId,m=e.parentOrgaId,h=e.getOrgaUser,O=e.currentPage,w=e.restTableData,E=e.userDir,P=e.orgStore.deleteUserOrgaAction,j=(0,p.useState)(!1),_=(0,s.default)(j,2),k=_[0],D=_[1],S=(0,g.useTranslation)().t,I=[{title:S("orga-table.nickname"),dataIndex:["user","nickname"],width:"25%",ellipsis:!0,render:function(e,t){return p.default.createElement(f.default,null,p.default.createElement(b.Profile,{userInfo:t}),e)}},{title:S("orga-table.name"),dataIndex:["user","name"],width:"25%",ellipsis:!0},{title:S("orga-table.orgaName"),dataIndex:["orga","orgaName"],width:"20%",ellipsis:!0},{title:S("orga-table.type"),dataIndex:["user","dirId"],width:"20%",ellipsis:!0,render:function(e){var t=E.findIndex((function(t){return t.id==e}));return t>-1?E[t].name:"--"}},{title:S("orga-common.action"),key:"action",width:"10%",ellipsis:!0,render:function(e,t){return"1"===t.user.dirId&&p.default.createElement(v.PrivilegeButton,{code:"orga_delete_orga"},p.default.createElement(o.default,{title:"删除"},p.default.createElement(c.default,{placement:"topRight",title:"你确定删除吗",onConfirm:function(){return x(t.id)},okText:"确定",cancelText:"取消"},p.default.createElement(d.default,{style:{fontSize:"var(--thoughtware-icon-size-16)"}}))))}}],x=function(e){P(e).then((function(e){e.code||w(1)}))};return p.default.createElement("div",{className:"org-detail"},p.default.createElement("div",{style:{margin:"10px 0",paddingLeft:8}},p.default.createElement(f.default,null,p.default.createElement("div",{className:"org-detail-item"},p.default.createElement("label",null,S("orga-label.orgaName"),":"),t.orgName),p.default.createElement("div",{className:"org-detail-item"},p.default.createElement("label",null,S("orga-label.parentOrg"),":"),t.parentOrg||"无上级"))),p.default.createElement("div",{style:{paddingLeft:8}},p.default.createElement("div",{className:"org-detail_title2_main"},p.default.createElement("span",{className:"org-detail_user_title2"},"用户(",a.totalRecord,")"),p.default.createElement(v.PrivilegeButton,{code:"orga_add_user"},p.default.createElement(b.Btn,{type:"1"!==t.userDirType?"disabled":"primary",onClick:"1"!==t.userDirType?null:function(){D(!0)},icon:p.default.createElement(l.default,null),title:S("orga-label.addUser")})))),p.default.createElement("div",{className:"org-detail-table"},p.default.createElement(i.default,{columns:I,dataSource:r,pagination:!1,rowKey:function(e){return e.id},tableLayout:"fixed"}),p.default.createElement(b.Page,{currentPage:O,changPage:w,page:a})),p.default.createElement(y.default,(0,u.default)({},e,{orgId:n,parentOrgaId:m,visible:k,onCancel:function(){return D(!1)},getOrgaUser:h,dirId:t.dirId,userDir:E})))})))},705:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(r(123)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),l=r(9),o=a(r(608));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}t.default=function(e){var t=e.visible,r=e.onCancel,a=e.orgId,n=e.userDir,c=e.getOrgaUser,d=(0,i.useState)([]),f=(0,u.default)(d,2),s=f[0],p=f[1],m=(0,i.useState)([]),g=(0,u.default)(m,2),v=g[0],b=g[1];(0,i.useEffect)((function(){t&&l.Axios.post("/user/userOrga/findUserOrgaList",{orgaId:a}).then((function(e){0===e.code&&(b(e.data.map((function(e){return e.user.id}))),p(e.data.map((function(e){return e.user.id}))))}))}),[t]);return i.default.createElement(o.default,{visible:t,userDir:n,allSelectIds:v,selectedRowKeys:s,setSelectedRowKeys:p,handleOk:function(){var e=s.filter((function(e){return!v.includes(e)})).map((function(e){return t={user:{id:e},orga:{orgaId:a}},l.Axios.post("/user/userOrga/createUserOrga",t);var t}));Promise.all(e).then((function(e){p([]),r(),c({orgaId:a},1)}))},handleCancel:function(){p([]),r()}})}},706:function(e,t,r){"use strict";r.r(t)},707:function(e,t,r){"use strict";r.r(t)},708:function(e,t,r){"use strict";r(643)},709:function(e,t,r){"use strict";var a=r(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(710));t.default=n.default},710:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(r(35)),i=a(r(235));r(226);var l=a(r(142));r(225);var o=a(r(141)),c=a(r(146)),d=a(r(234));r(239);var f=a(r(113)),s=a(r(156));r(229);var p=a(r(143)),m=a(r(233));r(125);var g=a(r(52)),v=a(r(595));r(97);var b=a(r(46)),y=a(r(36)),h=a(r(109)),O=a(r(123)),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=A(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),E=r(60),P=r(19),j=r(9),_=r(197),k=r(238),D=r(571),S=a(r(711)),I=a(r(712)),x=a(r(713)),U=a(r(599));function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(A=function(e){return e?r:t})(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,y.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(643);t.default=(0,E.inject)("userStore")((0,E.observer)((function(e){var t=e.userStore,r=e.SASSComponentSearch,a=e.saasRefresh,n=void 0!==a&&a,y=e.setSaasRefreshStatus,E=e.bgroup,A=void 0===E?"darth":E,N=t.userData,M=t.getUserList,C=t.deleteUser,T=t.deleteExternalMember,z=t.findRoleUserListAction,L=t.findUserPageAction,W=t.findUserOrgaList,F=t.findUserDirList,B=t.deleteUserAction,G=(0,_.useTranslation)().t,q=(0,w.useState)(!1),K=(0,O.default)(q,2),V=K[0],J=K[1],H=(0,w.useState)(!1),Y=(0,O.default)(H,2),$=Y[0],Z=Y[1],Q=(0,w.useState)({}),X=(0,O.default)(Q,2),ee=X[0],te=X[1],re=(0,w.useState)({pageSize:13,currentPage:1}),ae=(0,O.default)(re,1)[0],ne=(0,w.useState)({pageParam:ae}),ue=(0,O.default)(ne,2),ie=ue[0],le=ue[1],oe=(0,w.useState)({}),ce=(0,O.default)(oe,2),de=ce[0],fe=ce[1],se=(0,w.useState)([]),pe=(0,O.default)(se,2),me=pe[0],ge=pe[1],ve=(0,w.useState)(!1),be=(0,O.default)(ve,2),ye=be[0],he=be[1],Oe=(0,w.useState)(null),we=(0,O.default)(Oe,2),Ee=we[0],Pe=we[1];(0,w.useEffect)((function(){return F().then((function(e){e.code||ge(e.data)})),function(){return ge([])}}),[]),(0,w.useEffect)((function(){n?(je(),y()):je()}),[n,ie]);var je=function(){L(ie).then(function(){var e=(0,h.default)(u.default.mark((function e(t){var r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code){e.next=6;break}return fe({totalRecord:t.data.totalRecord,totalPage:t.data.totalPage}),e.next=4,Promise.all(_e(t.data.dataList));case 4:r=e.sent,M(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},_e=function(e){return e.map(function(){var e=(0,h.default)(u.default.mark((function e(t){var r,a,n,i,l;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],n={userId:t.id,scope:1,type:1},e.next=4,z(n);case 4:return i=e.sent,e.next=7,W(n);case 7:return l=e.sent,0===i.code&&i.data&&(r=i.data.map((function(e){return R(R({},e.role),{},{roleUserId:e.id})})).filter((function(e){return"1"===e.type&&1===e.scope}))),0===l.code&&l.data&&(a=l.data.slice(-1).map((function(e){return R(R({},e.orga),{},{orgaUserId:e.id})}))),e.abrupt("return",R(R({},t),{},{roleList:r,orgaList:a}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},ke=[{title:G("orga-table.nickname"),dataIndex:"nickname",key:"nickname",width:"20%",ellipsis:!0,render:function(e,t){return w.default.createElement(b.default,null,w.default.createElement(D.Profile,{userInfo:t}),e)}},{title:G("orga-table.name"),dataIndex:"name",key:"name",width:"15%",ellipsis:!0,render:function(e){return e||"--"}},{title:G("orga-table.org"),dataIndex:"org",key:"org",width:"20%",ellipsis:!0,render:function(e,t){var r=t.orgaList;return r.length>0?w.default.createElement(b.default,null,r.map((function(e){return w.default.createElement("span",{key:e.orgaId},e.orgaName)}))):"--"}},{title:"角色",dataIndex:"role",key:"role",width:"20%",ellipsis:!0,render:function(e,t){var r=t.roleList;return r.length>0?w.default.createElement(b.default,null,r.map((function(e){return w.default.createElement("span",{key:e.id},e.name)}))):"--"}},{title:G("orga-table.type"),dataIndex:"dirId",key:"dirId",width:"15%",ellipsis:!0,render:function(e,t){if("0"===e&&"111111"===t.id)return"个人账号";var r=me.findIndex((function(t){return t.id===e}));return r>-1?me[r].name:"--"}},{title:G("orga-common.action"),key:"action",width:"10%",render:function(e,t){return w.default.createElement(b.default,{size:"middle"},w.default.createElement(k.PrivilegeButton,{code:"user_update_user"},"111111"!==t.id?w.default.createElement(g.default,{title:"编辑"},w.default.createElement(v.default,{onClick:function(){return Ie(t)},className:"user-data-action"})):w.default.createElement(v.default,{className:"user-data-ban"})),w.default.createElement(k.PrivilegeButton,null,"111111"===t.id||"0"!==t.dirId&&"1"!==t.dirId?w.default.createElement(m.default,{className:"user-data-ban"}):w.default.createElement(g.default,{title:"删除"},w.default.createElement(p.default,{placement:"topRight",title:"你确定删除吗",onConfirm:function(){return De(t)},okText:"确定",cancelText:"取消"},w.default.createElement(m.default,{className:"user-data-action"})))),"1"===t.dirId?w.default.createElement(f.default,{overlay:w.default.createElement("div",{className:"user-dropdown-more"},w.default.createElement("div",{className:"dropdown-more-item",onClick:function(){return Se(t,"update")}},"修改密码"),"111111"!==t.id&&w.default.createElement("div",{className:"dropdown-more-item",onClick:function(){return Se(t,"reset")}},"找回密码")),trigger:["click"],placement:"bottomRight"},w.default.createElement(g.default,{title:"更多"},w.default.createElement(s.default,{className:"user-data-action"}))):w.default.createElement(s.default,{className:"user-data-ban"}))}}],De=function(e){var t=e.id;if("0"===e.dirId){var r=new FormData;return r.append("userId",t),r.append("tenantId",(0,j.getUser)().tenant),void T(r).then((function(e){0===e.code&&C(t)}))}var a=new FormData;a.append("id",t),B(a).then((function(e){0===e.code&&C(t)}))},Se=function(e,t){Pe(R(R({},e),{},{passwordType:t})),he(!0)},Ie=function(e){te(e),Z(!0)},xe=localStorage.getItem(j.LOCALSTORAGE_KEY.AUTH_CONFIG);if(xe){var Ue=JSON.parse(xe);if(!Ue.authType&&-1===Ue.appName.indexOf("darth"))return w.default.createElement(U.default,{module:"用户",link:"/user"})}return w.default.createElement("div",{className:"user_content"},w.default.createElement("div",{className:"user-detail"},w.default.createElement(D.BreadCrumb,{firstItem:"用户"},w.default.createElement(b.default,null,r,w.default.createElement(k.PrivilegeButton,{code:"user_add_user"},w.default.createElement(D.Btn,{type:"primary",onClick:function(){return J(!0)},icon:w.default.createElement(d.default,null),title:G("orga-label.addUser")})))),w.default.createElement("div",{style:{marginBottom:16}},w.default.createElement(o.default,{placeholder:G("orga-label.searchUserAccount"),onPressEnter:function(e){return function(e){var t=R(R({},ie),{},{pageParam:ae});e.target.value?t.name=e.target.value:delete t.name,le(t)}(e)},style:{width:"240px"},prefix:w.default.createElement(c.default,{style:{fontSize:"var(--thoughtware-icon-size-16)"}})})),w.default.createElement(l.default,{columns:ke,dataSource:N,rowKey:function(e){return e.id},pagination:!1}),w.default.createElement(D.Page,{currentPage:ie.pageParam.currentPage,changPage:function(e){var t=R(R({},ie),{},{pageParam:{pageSize:13,currentPage:e}});le(t)},page:de}),w.default.createElement(S.default,(0,i.default)({},e,{visible:V,setCreateVisible:J,userDir:me,bgroup:A,getUserPage:je})),w.default.createElement(I.default,(0,i.default)({},e,{visible:$,setEditVisible:Z,data:(0,P.toJS)(ee),userDir:me,bgroup:A,getUserPage:je})),w.default.createElement(x.default,(0,i.default)({},e,{visible:ye,setVisible:he,passWordObj:Ee,setPassWordObj:Pe,getUserPage:je}))))})))},711:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(327);var u=a(r(124)),i=a(r(123)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),o=r(571),c=a(r(644));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}var f=function(e){var t=e.visible,r=e.setCreateVisible,a=e.bgroup,n=e.userDir,d=e.userStore,f=e.getUserPage,s=u.default.useForm(),p=(0,i.default)(s,1)[0],m=function(){p.resetFields(),r(!1)};return l.default.createElement(o.BaseModal,{onOk:function(){p.submit()},onCancel:m,visible:t,title:"添加用户"},l.default.createElement(c.default,{data:{},isEdit:!1,bgroup:a,userDir:n,visible:t,userStore:d,adduserform:p,getUserPage:f,handleCancel:m}))};t.default=(0,l.memo)(f)},712:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(259);var u=a(r(175));r(327);var i=a(r(124)),l=a(r(123)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),c=r(571),d=a(r(644));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var s=function(e){var t=e.visible,r=e.setEditVisible,a=e.data,n=void 0===a?{}:a,f=e.userDir,s=e.bgroup,p=e.getUserPage,m=e.userStore,g=i.default.useForm(),v=(0,l.default)(g,1)[0],b=function(){v.resetFields(),r(!1)};return o.default.createElement(u.default,{placement:"right",onClose:b,visible:t,width:420,title:"编辑用户",bodyStyle:{padding:0},maskStyle:{background:"transparent"},contentWrapperStyle:{top:48,height:"calc(100% - 48px)"},getContainer:!1},o.default.createElement("div",{className:"user-edit-drawer"},o.default.createElement(d.default,{data:n,isEdit:!0,bgroup:s,visible:t,userDir:f,userStore:m,adduserform:v,getUserPage:p,handleCancel:b}),o.default.createElement("div",{className:"thoughtware_user_footer"},o.default.createElement(c.Btn,{onClick:b,isMar:!0},"取消"),o.default.createElement(c.Btn,{type:"primary",onClick:function(){v.submit()}},"保存"))))};t.default=(0,o.memo)(s)},713:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(225);var u=a(r(141));r(198);var i=a(r(42)),l=a(r(36));r(327);var o=a(r(124)),c=a(r(123)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),f=r(571),s=r(335),p=r(9);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t,r=e.visible,a=e.setVisible,n=e.getUserPage,l=e.passWordObj,m=e.setPassWordObj,g=o.default.useForm(),b=(0,c.default)(g,1)[0],y=(0,d.useState)(null),h=(0,c.default)(y,2),O=h[0],w=h[1],E=function(){a(!1),m(null),w(null),b.resetFields(null)};return d.default.createElement(f.BaseModal,{onOk:function(){b.validateFields().then((function(e){if("update"===(null==l?void 0:l.passwordType))(0,s.updatePassword)(v(v({},e),{},{id:l.id,dirId:l.dirId})).then((function(e){0===e.code?(n(),i.default.info("修改成功")):i.default.info(e.msg),E()}));else{var t;if(O)return E();(0,s.recoverPassword)(v(v({},e),{},{id:l.id,dirId:l.dirId,type:"111111"===(null===(t=(0,p.getUser)())||void 0===t?void 0:t.userId)?1:0})).then((function(e){0===e.code?(n(),w(e.data)):i.default.info(e.msg)}))}}))},onCancel:E,visible:r,title:"update"===(null==l?void 0:l.passwordType)?"修改密码":"找回密码"},d.default.createElement(o.default,{form:b,preserve:!1,layout:"vertical",autoComplete:"off"},"update"===(null==l?void 0:l.passwordType)?d.default.createElement(d.default.Fragment,null,d.default.createElement(o.default.Item,{name:"password",label:"旧密码",rules:[{required:!0,message:"旧密码不能为空"}]},d.default.createElement(u.default.Password,null)),d.default.createElement(o.default.Item,{name:"newPassword",label:"新密码",rules:[{required:!0,message:"新密码不能为空"}]},d.default.createElement(u.default.Password,null))):O?d.default.createElement("div",{className:"user-password-recover-modal"},"新密码为",d.default.createElement("span",{className:"newRecover"},O)):"111111"===(null===(t=(0,p.getUser)())||void 0===t?void 0:t.userId)?d.default.createElement("div",{className:"user-password-recover-modal"},"是否重置",d.default.createElement("span",{className:"newRecover"},null==l?void 0:l.nickname),"的密码"):d.default.createElement(o.default.Item,{name:"name",label:"手机号或邮箱",rules:[{required:!0,message:"手机号或邮箱不能为空"}]},d.default.createElement(u.default,null))))}},714:function(e,t,r){"use strict";r(645)},715:function(e,t,r){"use strict";var a=r(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(716));t.default=n.default},716:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(330);var u=a(r(231));r(125);var i=a(r(52)),l=a(r(170));r(329);var o=a(r(228));r(84);var c=a(r(31));r(97);var d=a(r(46));r(328);var f=a(r(126)),s=a(r(123)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),m=r(206),g=r(9),v=r(571),b=a(r(599));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}r(645);var h=[{id:2,name:"LDAP",desc:"同步LDAP用户以及组织架构",icon:r(717)},{id:4,name:"企业微信",desc:"同步企业微信用户以及组织架构",icon:r(718)}];t.default=function(){var e=(0,p.useState)([]),t=(0,s.default)(e,2),r=t[0],a=t[1],n=(0,m.useHasPointPlugin)("directory"),y=(0,g.getVersionInfo)();(0,p.useEffect)((function(){return O(),function(){return a([])}}),[]);var O=function(){var e={ids:["1"]};try{0}catch(t){e={ids:["1"]}}g.Axios.post("/user/userdir/findDirByIds",e).then((function(e){if(!e.code){var t=e.data;a(t)}}))},w=localStorage.getItem(g.LOCALSTORAGE_KEY.AUTH_CONFIG);if(w){var E=JSON.parse(w);if(!E.authType&&-1===E.appName.indexOf("darth"))return p.default.createElement(b.default,{module:"用户目录",link:"/dir"})}return p.default.createElement("div",{className:"directory"},p.default.createElement(o.default,{className:"directory-wrap"},p.default.createElement(u.default,{span:24},p.default.createElement(v.BreadCrumb,{firstItem:"用户目录"}),p.default.createElement("div",{className:"directory_content"},r.map((function(e){return p.default.createElement(o.default,{justify:"space-between",align:"middle",key:e.id,style:{padding:16}},p.default.createElement("div",{className:"directory_content_item"},p.default.createElement(f.default,{size:64}),p.default.createElement("div",{className:"directory_content_item_title"},p.default.createElement(d.default,{direction:"vertical"},p.default.createElement("div",null,e.name),p.default.createElement("p",{className:"directory_content_desc"},"这是一个描述内容")))),p.default.createElement(d.default,null,p.default.createElement(c.default,{disabled:!0},"同步数据"),p.default.createElement(c.default,{disabled:!0},"开启"),p.default.createElement(c.default,{disabled:!0},"禁止"),p.default.createElement(c.default,{disabled:!0},"配置")))})),"{}"!==JSON.stringify(y)&&!y.expired&&n?p.default.createElement(m.RemoteComponent,{point:"directory",isModalType:!0}):p.default.createElement(p.default.Fragment,null,h.map((function(e){return p.default.createElement(o.default,{justify:"space-between",align:"middle",key:e.id,style:{padding:16}},p.default.createElement("div",{className:"directory_content_item"},p.default.createElement(f.default,{size:64,src:e.icon.default}),p.default.createElement("div",{className:"directory_content_item_title"},p.default.createElement(d.default,{direction:"vertical"},p.default.createElement(d.default,null,p.default.createElement("div",null,e.name),p.default.createElement(i.default,{placement:"topRight",title:"增强功能需要去官网购买Licence"},p.default.createElement(l.default,{style:{fontSize:"var(--thoughtware-icon-size-16)"}}))),p.default.createElement("p",{className:"directory_content_desc"},e.desc)))),p.default.createElement(d.default,null,p.default.createElement(c.default,{disabled:!0},"同步数据"),p.default.createElement(c.default,{disabled:!0},"开启"),p.default.createElement(c.default,{disabled:!0},"禁止"),p.default.createElement(c.default,{disabled:!0},"配置")))})))))))}},717:function(e,t,r){"use strict";r.r(t),t.default=r.p+"images/ldap.jpeg"},718:function(e,t,r){"use strict";r.r(t),t.default=r.p+"images/qywechat.jpeg"},719:function(e,t,r){"use strict";r(646)},720:function(e,t,r){"use strict";var a=r(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(721));t.default=n.default},721:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(97);var u=a(r(46));r(229);var i=a(r(143)),l=a(r(233));r(125);var o=a(r(52)),c=a(r(595)),d=a(r(234)),f=a(r(123)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),p=r(9),m=a(r(722)),g=a(r(723)),v=r(238),b=a(r(599));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}r(646);t.default=function(e){var t=e.isBase,r=void 0!==t&&t,a=(0,s.useState)(!1),n=(0,f.default)(a,2),y=n[0],h=n[1],O=(0,s.useState)(null),w=(0,f.default)(O,2),E=w[0],P=w[1],j=(0,s.useState)([]),_=(0,f.default)(j,2),k=_[0],D=_[1],S=(0,s.useState)(null),I=(0,f.default)(S,2),x=I[0],U=I[1];(0,s.useEffect)((function(){A("init")}),[]);var A=function(e){p.Axios.post("/usergroup/findAllGroup").then((function(t){0===t.code&&(D(t.data),"init"===e&&U(t.data[0]))}))},N=localStorage.getItem(p.LOCALSTORAGE_KEY.AUTH_CONFIG);if(N){var R=JSON.parse(N);if(!R.authType&&-1===R.appName.indexOf("darth"))return s.default.createElement(b.default,{module:"用户",link:"/userGroup"})}return s.default.createElement("div",{className:"user-group"},s.default.createElement("div",{className:"user-group-content"},s.default.createElement("div",{className:"user-group-left"},s.default.createElement("div",{className:"user-group-left-title"},s.default.createElement("div",null,"用户组"),s.default.createElement("div",null,s.default.createElement(v.PrivilegeButton,{code:"user_add_group"},s.default.createElement(d.default,{onClick:function(){return P(null),void h(!0)}})))),s.default.createElement("div",{className:"user-group-left-data"},k&&k.map((function(e){return s.default.createElement("div",{key:e.id,className:"user-group-item ".concat(e.id===(null==x?void 0:x.id)?"user-group-item-active":""),onClick:function(){return U(e)}},s.default.createElement("div",{className:"user-group-item-name"},e.name),s.default.createElement(u.default,{className:"user-group-item-action"},1!==e.type&&s.default.createElement(v.PrivilegeButton,{code:"user_update_group"},s.default.createElement(o.default,{title:"编辑"},s.default.createElement(c.default,{onClick:function(t){return function(e,t){e.stopPropagation(),P(t),h(!0)}(t,e)}}))),1!==e.type&&s.default.createElement(v.PrivilegeButton,{code:"user_delete_group"},s.default.createElement(o.default,{title:"删除"},s.default.createElement(i.default,{placement:"topRight",title:"你确定删除吗",onConfirm:function(t){return function(e,t){e.stopPropagation();var r=new FormData;r.append("id",t),p.Axios.post("/usergroup/deleteGroup",r).then((function(e){0===e.code&&(t===(null==x?void 0:x.id)?A("init"):A())}))}(t,e.id)},okText:"确定",cancelText:"取消"},s.default.createElement(l.default,{onClick:function(e){return e.stopPropagation()}}))))))})))),s.default.createElement("div",{className:"user-group-right"},s.default.createElement(g.default,{groupData:x}))),s.default.createElement(m.default,{open:y,setOpen:h,data:E,isBase:r,setGroup:U,getUserGroupList:A}))}},722:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(r(35));r(350);var i=a(r(168));r(225);var l=a(r(141));r(198);var o=a(r(42)),c=a(r(109)),d=a(r(36));r(327);var f=a(r(124)),s=a(r(123)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),m=r(9),g=r(571);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,d.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.isBase,r=e.open,a=e.data,n=e.setOpen,d=e.setGroup,v=e.getUserGroupList,b=f.default.useForm(),h=(0,s.default)(b,1)[0];(0,p.useEffect)((function(){r&&a&&h.setFieldsValue(y({},a))}),[r]);var O=function(){h.resetFields(),n(!1)},w=function(){var e=(0,c.default)(u.default.mark((function e(r){var n,i;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=y(y({},r),{},{group:t?"system":"custom"}),!a){e.next=8;break}return i=y(y({},a),i),e.next=5,m.Axios.post("/usergroup/updateGroup",i);case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,m.Axios.post("/usergroup/createGroup",i);case 10:n=e.sent;case 11:0===n.code?(o.default.success("成功"),O(),v(),d(a?i:y(y({},i),{},{id:n.data}))):o.default.error("失败");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return p.default.createElement(g.BaseModal,{title:"用户组",visible:r,onCancel:O,onOk:function(){h.submit()},destroyOnClose:!0,preserve:!1,forceRender:!0},p.default.createElement(f.default,{form:h,onFinish:w,layout:"vertical"},p.default.createElement(f.default.Item,{label:"用户组名称",name:"name",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},p.default.createElement(l.default,{placeholder:"用户组名称"})),t&&p.default.createElement(f.default.Item,{label:"设置管理员组",name:"type",initialValue:0},p.default.createElement(i.default.Group,null,p.default.createElement(i.default,{value:0},"普通组"),p.default.createElement(i.default,{value:1},"管理员组"))),p.default.createElement(f.default.Item,{label:"描述",name:"description"},p.default.createElement(l.default,{placeholder:"用户组名称"}))))}},723:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(226);var u=a(r(142));r(329);var i=a(r(228)),l=a(r(36));r(125);var o=a(r(52));r(229);var c=a(r(143)),d=a(r(233));r(97);var f=a(r(46)),s=a(r(123)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),m=r(9),g=r(197),v=a(r(724)),b=r(238),y=r(571);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.groupData,r=(0,g.useTranslation)().t,a=(0,p.useState)([]),n=(0,s.default)(a,2),l=n[0],h=n[1],O=(0,p.useState)(!1),E=(0,s.default)(O,2),P=E[0],j=E[1],_=[{title:"昵称",dataIndex:"nickname",width:"25%",ellipsis:!0,render:function(e,t){return p.default.createElement(f.default,null,p.default.createElement(y.Profile,{userInfo:t}),e)}},{title:"账号",dataIndex:"name",width:"20%",ellipsis:!0},{title:r("orga-table.phone"),dataIndex:"phone",key:"phone",width:"20%",ellipsis:!0,render:function(e){return e||"--"}},{title:r("orga-table.email"),dataIndex:"email",width:"20%",ellipsis:!0,render:function(e){return e||"--"}},{title:r("orga-common.action"),key:"action",width:"10%",render:function(e,t){var r=t.type;return p.default.createElement(f.default,{size:"middle"},1!==r&&p.default.createElement(b.PrivilegeButton,{code:"user_delete_group_user"},p.default.createElement(o.default,{title:"删除"},p.default.createElement(c.default,{placement:"topRight",title:"你确定删除吗",onConfirm:function(){return D(t.groupUserLinkUserId)},okText:"确定",cancelText:"取消"},p.default.createElement(d.default,{style:{fontSize:"var(--thoughtware-icon-size-16)"}})))))}}];(0,p.useEffect)((function(){null!=t&&t.id&&k()}),[t]);var k=function(){var e={groupId:t.id};m.Axios.post("/usergroupUser/findUserList",e).then((function(e){if(0===e.code){var t=e.data.map((function(e){return w(w({},e.user),{},{groupUserLinkUserId:e.id})}));h(t)}}))},D=function(e){var t=new FormData;t.append("id",e),m.Axios.post("/usergroupUser/deleteUser",t).then((function(e){k()}))};return p.default.createElement("main",{className:"user-group-right-main"},p.default.createElement(f.default,null,p.default.createElement("div",{className:"label_item"},p.default.createElement("label",null,"名称:"),p.default.createElement("span",null,null==t?void 0:t.name)),p.default.createElement("div",{className:"label_item"},p.default.createElement("label",null,"类型:"),p.default.createElement("span",null,"system"===(null==t?void 0:t.group)?"内置":"自定义"))),p.default.createElement(f.default,{direction:"vertical",size:"middle"},p.default.createElement(i.default,{justify:"space-between"},p.default.createElement("div",{className:"main_user"},"用户(",l.length,")"),p.default.createElement(b.PrivilegeButton,{code:"user_add_group_user"},p.default.createElement(y.Btn,{type:"primary",onClick:function(){j(!0)}},"添加用户"))),p.default.createElement(u.default,{columns:_,dataSource:l,rowKey:function(e){return e.id},pagination:!1})),p.default.createElement(v.default,{open:P,setOpen:j,tableData:l,getUserGroupLinkUserList:k,userGroupId:null==t?void 0:t.id,groupUserType:null==t?void 0:t.type}))}},724:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(198);var u=a(r(42)),i=a(r(123)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),o=r(9),c=a(r(608));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}t.default=function(e){var t=e.open,r=e.setOpen,a=e.getUserGroupLinkUserList,n=e.userGroupId,d=e.tableData,f=(0,l.useState)([]),s=(0,i.default)(f,2),p=s[0],m=s[1],g=(0,l.useState)([]),v=(0,i.default)(g,2),b=v[0],y=v[1];(0,l.useEffect)((function(){d&&t&&(m(d.map((function(e){return e.id}))),y(d.map((function(e){return e.id}))))}),[t]);var h=function(){m([]),r(!1)};return l.default.createElement(c.default,{visible:t,allSelectIds:b,selectedRowKeys:p,setSelectedRowKeys:m,handleOk:function(){var e={userGroup:{id:n},userIds:p};o.Axios.post("/usergroupUser/createBatchUser",e).then((function(e){if(0!==e.code)return u.default.error(e.msg);h(),a()}))},handleCancel:h})}},730:function(e,t,r){"use strict";r(657)},731:function(e,t,r){"use strict";var a=r(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(732));t.default=n.default},732:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(r(35));r(144);var i=a(r(64)),l=a(r(235));r(226);var o=a(r(142));r(225);var c=a(r(141)),d=a(r(146)),f=a(r(234)),s=a(r(109)),p=a(r(36));r(229);var m=a(r(143)),g=a(r(233));r(125);var v=a(r(52)),b=a(r(733));r(97);var y=a(r(46));r(327);var h=a(r(124)),O=a(r(123)),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=D(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),E=r(60),P=r(197),j=r(571),_=a(r(734));r(657);var k=r(19);function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(D=function(e){return e?r:t})(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,p.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,E.inject)("domainUserStore","userStore")((0,E.observer)((function(e){var t=e.domainId,r=e.domainUserStore,a=e.userStore,n=e.bgroup,p=void 0===n?"darth":n,E=r.getDomainUser,D=r.privilegeDomainUsers,S=r.createDmRoleUserAction,x=r.deleteDmRoleUserAction,U=r.deleteDmUserAction,A=r.findDmRoleListAction,N=r.findDmRoleUserListAction,R=r.findDmUserPageAction,M=a.createRoleUserAction,C=a.findUserOrgaList,T=a.findUserDirList,z=(0,P.useTranslation)().t,L=h.default.useForm(),W=(0,O.default)(L,1)[0],F=(0,w.useState)([]),B=(0,O.default)(F,2),G=B[0],q=B[1],K=(0,w.useState)({}),V=(0,O.default)(K,2),J=V[0],H=V[1],Y=(0,w.useState)(!1),$=(0,O.default)(Y,2),Z=$[0],Q=$[1],X=(0,w.useState)([]),ee=(0,O.default)(X,2),te=ee[0],re=ee[1],ae=(0,w.useState)(!1),ne=(0,O.default)(ae,2),ue=ne[0],ie=ne[1],le=(0,w.useState)({pageSize:13,currentPage:1}),oe=(0,O.default)(le,1)[0],ce=(0,w.useState)({}),de=(0,O.default)(ce,2),fe=de[0],se=de[1],pe=(0,w.useState)({pageParam:oe}),me=(0,O.default)(pe,2),ge=me[0],ve=me[1],be=[{title:z("orga-table.nickname"),dataIndex:["user","nickname"],key:"nickname",width:"20%",ellipsis:!0,render:function(e,t){return w.default.createElement(y.default,null,w.default.createElement(j.Profile,{userInfo:t}),e)}},{title:z("orga-table.name"),dataIndex:["user","name"],key:"name",width:"15%",ellipsis:!0},{title:z("orga-table.org"),dataIndex:["user","org"],key:"org",width:"20%",ellipsis:!0,render:function(e,t){var r=t.orgaList;return r.length>0?w.default.createElement(y.default,null,r.map((function(e){return w.default.createElement("span",{key:e.orgaId},e.orgaName)}))):"--"}},{title:"角色",dataIndex:"role",key:"role",width:"20%",ellipsis:!0,render:function(e,t){var r=t.roleList;return r.length>0?w.default.createElement(y.default,null,r.map((function(e){return w.default.createElement("span",{key:e.id},e.dmRole.role.name)}))):"--"}},{title:z("orga-table.type"),dataIndex:["user","dirId"],key:"dirId",width:"15%",ellipsis:!0,render:function(e){var t=te.findIndex((function(t){return t.id===e}));return t>-1?te[t].name:"--"}},{title:z("orga-common.action"),key:"action",width:"10%",ellipsis:!0,render:function(e,t){var r=t.user;return w.default.createElement(y.default,{size:"middle"},w.default.createElement(v.default,{title:"角色修改"},w.default.createElement(b.default,{onClick:function(){return Ee(t)},style:{fontSize:"var(--thoughtware-icon-size-16)"}})),1!==r.type&&w.default.createElement(v.default,{title:"删除"},w.default.createElement(m.default,{placement:"topRight",title:"你确定删除吗",onConfirm:function(){return Pe(t.id)},okText:"确定",cancelText:"取消"},w.default.createElement(g.default,{style:{fontSize:"var(--thoughtware-icon-size-16)"}}))))}}];(0,w.useEffect)((function(){ye(),we()}),[]),(0,w.useEffect)((function(){he()}),[ge]);var ye=function(){T().then((function(e){e.code||re(e.data)}))},he=function(){R(I({domainId:t},ge)).then(function(){var e=(0,s.default)(u.default.mark((function e(t){var r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code){e.next=6;break}return se({totalRecord:t.data.totalRecord,totalPage:t.data.totalPage}),e.next=4,Promise.all(Oe(t.data.dataList));case 4:r=e.sent,E(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},Oe=function(e){return e.map(function(){var e=(0,s.default)(u.default.mark((function e(r){var a,n,i,l;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,N({domainId:t,userId:r.user.id});case 3:return 0===(i=e.sent).code&&i.data&&(a=i.data.map((function(e){return{dmRole:I(I({},e.dmRole),{},{role:e.role}),roleUserId:e.id}}))),e.next=7,C({userId:r.user.id,scope:1,type:1});case 7:return 0===(l=e.sent).code&&l.data&&(n=l.data.slice(-1).map((function(e){return I(I({},e.orga),{},{orgaUserId:e.id})}))),e.abrupt("return",I(I({},r),{},{roleList:a,orgaList:n}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},we=function(){A({domainId:t}).then((function(e){e.code||q(e.data)}))},Ee=function(e){var t=e.roleList;W.setFieldsValue({role:t.map((function(e){return e.dmRole.id}))}),H(e),Q(!0)},Pe=function(e){U(e).then((function(e){e.code||ve({pageParam:oe})}))},je=function(){W.resetFields(),Q(!1)},_e=function(e){var t=e.map((function(e){return x(e)}));return Promise.all(t)},ke=function(e,r){var a={bgroup:p,userId:r,domainId:t};if(Array.isArray(e)){var n=e.map((function(e){var t=I(I({},a),{},{dmRole:{id:e}});return S(t)}));Promise.all(n).then((function(e){je()}))}else a=I(I({},a),{},{dmRole:{id:e}}),M(a).then((function(e){0===e.code&&je()}))};return w.default.createElement("div",{className:"privilege-domain-user"},w.default.createElement("div",{className:"privilege-domain-user-content"},w.default.createElement(j.BreadCrumb,{firstItem:"成员"},w.default.createElement(j.Btn,{onClick:function(){return ie(!0)},icon:w.default.createElement(f.default,null),type:"primary",title:z("orga-label.addUser")})),w.default.createElement("div",{style:{paddingBottom:"var(--thoughtware-padding-item)",paddingLeft:8}},w.default.createElement(c.default,{placeholder:z("orga-label.searchUserPhoneEmail"),onPressEnter:function(e){return function(e){var t=I(I({},ge),{},{pageParam:oe});e.target.value?t.nickname=e.target.value:delete t.nickname,ve(t)}(e)},prefix:w.default.createElement(d.default,{style:{fontSize:"var(--thoughtware-icon-size-16)"}}),style:{width:"240px"}})),w.default.createElement(o.default,{columns:be,dataSource:D,rowKey:function(e){return e.id},tableLayout:"fixed",pagination:!1}),w.default.createElement(j.Page,{currentPage:ge.pageParam.currentPage,changPage:function(e){var t=I(I({},ge),{},{pageParam:{pageSize:13,currentPage:e}});ve(t)},page:fe})),w.default.createElement(_.default,(0,l.default)({},e,{userDir:te,domainId:t,visible:ue,setVisible:ie,getDomainUsers:he})),w.default.createElement(j.BaseModal,{title:"修改角色",visible:Z,onCancel:je,onOk:function(){W.submit()},destroyOnClose:!0},w.default.createElement(h.default,{form:W,onFinish:function(e){var t=(0,k.toJS)(J),r=t.user.id,a=(t.roleList||[]).map((function(e){return e.dmRole.id})),n=e.role,u=a.filter((function(e){return!n.includes(e)})),i=(t.roleList||[]).map((function(e){if(u.includes(e.dmRole.id))return e.roleUserId})).filter(Boolean);0===i.length?ke(n,r):_e(i).then((function(){ke(n,r)})),he()},preserve:!1,layout:"vertical"},w.default.createElement(h.default.Item,{label:"角色",name:"role",rules:[{required:!0,message:z("adduser-module.userTypeRequired")}]},w.default.createElement(i.default,{mode:"multiple"},G.map((function(e){var t;return w.default.createElement(i.default.Option,{key:e.id,value:e.id},null===(t=e.role)||void 0===t?void 0:t.name)})))))))})))},734:function(e,t,r){"use strict";var a=r(39),n=r(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(r(123)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(0)),l=a(r(608));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}var c=function(e){var t=e.visible,r=e.setVisible,a=e.getDomainUsers,n=e.userDir,o=e.domainId,c=e.domainUserStore,d=c.createDmUserAction,f=c.findDmUserListAction,s=c.createDefaultRole,p=(0,i.useState)([]),m=(0,u.default)(p,2),g=m[0],v=m[1],b=(0,i.useState)([]),y=(0,u.default)(b,2),h=y[0],O=y[1];(0,i.useEffect)((function(){t&&f({domainId:o}).then((function(e){0===e.code&&(O(e.data.map((function(e){return e.user.id}))),v(e.data.map((function(e){return e.user.id}))))}))}),[t]);var w=function(){v([]),r(!1)};return i.default.createElement(l.default,{visible:t,userDir:n,allSelectIds:h,selectedRowKeys:g,setSelectedRowKeys:v,handleOk:function(){var e=g.filter((function(e){return!h.includes(e)})).map((function(e){return d(t={domainId:o,user:{id:e}}),void s(t);var t}));Promise.all(e).then((function(e){setTimeout((function(){w(),a()}),200)}))},handleCancel:w})},d=function(e,t){return e.visible===t.visible};t.default=(0,i.memo)(c,d)}}]);