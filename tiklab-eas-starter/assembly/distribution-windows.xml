<assembly
        xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">

    <id>windows</id>
    <formats>
        <format>tar.gz</format>
    </formats>
    <fileSets>
        <fileSet>
            <directory>${basedir}/target</directory>
            <excludes>
                <exclude>${artifactId}-${version}.jar</exclude>
            </excludes>
            <outputDirectory>/lib</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>${basedir}/src/main/resources</directory>
            <excludes>
                <exclude>*.yaml</exclude>
                <exclude>*.xml</exclude>
            </excludes>
            <outputDirectory>/conf</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>${basedir}/src/main/resources</directory>
            <excludes>
                <exclude>Dockerfile</exclude>
            </excludes>
            <outputDirectory>/</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>${basedir}/bin</directory>
            <fileMode>755</fileMode>
            <excludes>
                <exclude>*.classpath</exclude>
            </excludes>
            <outputDirectory>/bin</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>${basedir}/plugin</directory>
            <fileMode>755</fileMode>
            <outputDirectory>/plugin</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>${basedir}/etc</directory>
            <fileMode>755</fileMode>
            <outputDirectory>/etc</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>${basedir}/temp</directory>
            <fileMode>755</fileMode>
            <outputDirectory>/temp</outputDirectory>
        </fileSet>
    </fileSets>
    <dependencySets>
        <dependencySet>
            <outputDirectory>co</outputDirectory>
            <excludes>
                <!--api-->
                <exclude>javax.activation:activation</exclude>
                <exclude>org.ow2.asm:asm</exclude>
                <exclude>org.aspectj:aspectjrt</exclude>
                <exclude>org.aspectj:aspectjweaver</exclude>
                <exclude>org.bouncycastle:bcprov-jdk15on</exclude>
                <exclude>com.fasterxml:classmate</exclude>
                <exclude>commons-beanutils:commons-beanutils</exclude>
                <exclude>commons-codec:commons-codec</exclude>
                <exclude>commons-collections:commons-collections</exclude>
                <exclude>commons-dbcp:commons-dbcp</exclude>
                <exclude>commons-fileupload:commons-fileupload</exclude>
                <exclude>commons-lang:commons-lang</exclude>
                <exclude>commons-logging:commons-logging</exclude>
                <exclude>commons-pool:commons-pool</exclude>
                <exclude>org.apache.commons:commons-text</exclude>
                <exclude>net.sf.ehcache:ehcache</exclude>
                <exclude>com.alibaba:fastjson</exclude>
                <exclude>org.freemarker:freemarker</exclude>
                <exclude>com.google.code.gson:gson</exclude>
                <exclude>com.caucho:hessian</exclude>
                <exclude>org.hibernate:hibernate-validator</exclude>
                <exclude>org.hsqldb:hsqldb</exclude>
                <exclude>com.fasterxml.jackson.core:jackson-annotations</exclude>
                <exclude>com.fasterxml.jackson.core:jackson-core</exclude>
                <exclude>com.fasterxml.jackson.core:jackson-databind</exclude>
                <exclude>com.fasterxml.jackson.datatype:jackson-datatype-jdk8</exclude>
                <exclude>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</exclude>
                <exclude>com.fasterxml.jackson.module:jackson-module-parameter-names</exclude>
                <exclude>jakarta.annotation:jakarta.annotation-api</exclude>
                <exclude>org.javassist:javassist</exclude>
                <exclude>com.sun.mail:javax.mail</exclude>
                <exclude>javax.servlet:javax.servlet-api</exclude>
                <exclude>javax.xml.bind:jaxb-api</exclude>
                <exclude>com.sun.xml.bind:jaxb-core</exclude>
                <exclude>com.sun.xml.bind:jaxb-impl</exclude>
                <exclude>org.jboss.logging:jboss-logging</exclude>
                <exclude>joda-time:joda-time</exclude>
                <exclude>org.json:json</exclude>
                <exclude>org.slf4j:jul-to-slf4j</exclude>
                <exclude>com.esotericsoftware:kryo</exclude>
                <exclude>com.esotericsoftware:kryo-shaded</exclude>
                <exclude>org.apache.logging.log4j:log4j-api</exclude>
                <exclude>org.apache.logging.log4j:log4j-to-slf4j</exclude>
                <exclude>ch.qos.logback:logback-classic</exclude>
                <exclude>ch.qos.logback:logback-core</exclude>
                <exclude>org.apache.lucene:lucene-analyzers-common</exclude>
                <exclude>org.apache.lucene:lucene-core</exclude>
                <exclude>org.apache.lucene:lucene-queries</exclude>
                <exclude>org.apache.lucene:lucene-queryparser</exclude>
                <exclude>org.apache.lucene:lucene-sandbox</exclude>
                <exclude>com.esotericsoftware:minlog</exclude>
                <exclude>mysql:mysql-connector-java</exclude>
                <exclude>org.jboss.netty:netty</exclude>
                <exclude>org.objenesis:objenesis</exclude>
                <exclude>ognl:ognl</exclude>
                <exclude>com.esotericsoftware:reflectasm</exclude>
                <exclude>org.slf4j:slf4j-api</exclude>
                <exclude>org.yaml:snakeyaml</exclude>
                <exclude>javax.validation:validation-api</exclude>
                <exclude>org.apache.tomcat.embed:tomcat-embed-websocket</exclude>
                <exclude>org.apache.tomcat.embed:tomcat-embed-el</exclude>
                <exclude>org.apache.tomcat.embed:tomcat-embed-core</exclude>
                <exclude>org.apache.tomcat:tomcat-annotations-api</exclude>
                <exclude>net.tiklab:tiklab-web-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-web-core</exclude>
                <exclude>net.tiklab:tiklab-utils</exclude>
                <exclude>net.tiklab:tiklab-user-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-toolkit-server</exclude>
                <exclude>net.tiklab:tiklab-toolkit-api</exclude>
                <exclude>net.tiklab:tiklab-rpc-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-rpc-server</exclude>
                <exclude>net.tiklab:tiklab-rpc-remoting</exclude>
                <exclude>net.tiklab:tiklab-rpc-common</exclude>
                <exclude>net.tiklab:tiklab-rpc-codec</exclude>
                <exclude>net.tiklab:tiklab-rpc-client</exclude>
                <exclude>net.tiklab:tiklab-rpc-annotation</exclude>
                <exclude>net.tiklab:tiklab-privilege-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-postin-annotation</exclude>
                <exclude>net.tiklab:tiklab-plugin-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-message-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-licence-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-eas-spring-boot-stater</exclude>
                <exclude>net.tiklab:tiklab-eam-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-dss-server</exclude>
                <exclude>net.tiklab:tiklab-dss-common</exclude>
                <exclude>net.tiklab:tiklab-dss-client</exclude>
                <exclude>net.tiklab:tiklab-dss-annotation</exclude>
                <exclude>net.tiklab:tiklab-dsm-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-dsm-core</exclude>
                <exclude>net.tiklab:tiklab-dsm-annotation</exclude>
                <exclude>net.tiklab:tiklab-dfs-web</exclude>
                <exclude>net.tiklab:tiklab-dfs-server</exclude>
                <exclude>net.tiklab:tiklab-dfs-common</exclude>
                <exclude>net.tiklab:tiklab-dfs-client</exclude>
                <exclude>net.tiklab:tiklab-dcs-server</exclude>
                <exclude>net.tiklab:tiklab-dcs-common</exclude>
                <exclude>net.tiklab:tiklab-dcs-client</exclude>
                <exclude>net.tiklab:tiklab-dal-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-dal-jpa</exclude>
                <exclude>net.tiklab:tiklab-dal-jdbc</exclude>
                <exclude>net.tiklab:tiklab-dal-datasource</exclude>
                <exclude>net.tiklab:tiklab-core</exclude>
                <exclude>net.tiklab:tiklab-tks-core</exclude>
                <exclude>net.tiklab:tiklab-tks-annotation</exclude>
                <exclude>org.springframework:spring-websocket</exclude>
                <exclude>org.springframework:spring-webmvc</exclude>
                <exclude>org.springframework:spring-web</exclude>
                <exclude>org.springframework:spring-tx</exclude>
                <exclude>org.springframework:spring-jdbc</exclude>
                <exclude>org.springframework:spring-jcl</exclude>
                <exclude>org.springframework:spring-expression</exclude>
                <exclude>org.springframework:spring-core</exclude>
                <exclude>org.springframework:spring-context</exclude>
                <exclude>org.springframework.boot:spring-boot-starter-web</exclude>
                <exclude>org.springframework.boot:spring-boot-starter-tomcat</exclude>
                <exclude>org.springframework.boot:spring-boot-starter-logging</exclude>
                <exclude>org.springframework.boot:spring-boot-starter-json</exclude>
                <exclude>org.springframework.boot:spring-boot-starter</exclude>
                <exclude>org.springframework.boot:spring-boot-autoconfigure</exclude>
                <exclude>org.springframework.boot:spring-boot</exclude>
                <exclude>org.springframework:spring-beans</exclude>
                <exclude>org.springframework:spring-aop</exclude>
                <exclude>org.yaml:snakeyaml</exclude>
            </excludes>
        </dependencySet>
        <dependencySet>
            <outputDirectory>/lib</outputDirectory>
            <excludes>
                <exclude>javax.activation:activation</exclude>
                <exclude>org.ow2.asm:asm</exclude>
                <exclude>org.aspectj:aspectjrt</exclude>
                <exclude>org.aspectj:aspectjweaver</exclude>
                <exclude>org.bouncycastle:bcprov-jdk15on</exclude>
                <exclude>com.fasterxml:classmate</exclude>
                <exclude>commons-beanutils:commons-beanutils</exclude>
                <exclude>commons-codec:commons-codec</exclude>
                <exclude>commons-collections:commons-collections</exclude>
                <exclude>commons-dbcp:commons-dbcp</exclude>
                <exclude>commons-fileupload:commons-fileupload</exclude>
                <exclude>commons-lang:commons-lang</exclude>
                <exclude>commons-logging:commons-logging</exclude>
                <exclude>commons-pool:commons-pool</exclude>
                <exclude>org.apache.commons:commons-text</exclude>
                <exclude>net.sf.ehcache:ehcache</exclude>
                <exclude>com.alibaba:fastjson</exclude>
                <exclude>org.freemarker:freemarker</exclude>
                <exclude>com.google.code.gson:gson</exclude>
                <exclude>com.caucho:hessian</exclude>
                <exclude>org.hibernate:hibernate-validator</exclude>
                <exclude>org.hsqldb:hsqldb</exclude>
                <exclude>com.fasterxml.jackson.core:jackson-annotations</exclude>
                <exclude>com.fasterxml.jackson.core:jackson-core</exclude>
                <exclude>com.fasterxml.jackson.core:jackson-databind</exclude>
                <exclude>com.fasterxml.jackson.datatype:jackson-datatype-jdk8</exclude>
                <exclude>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</exclude>
                <exclude>com.fasterxml.jackson.module:jackson-module-parameter-names</exclude>
                <exclude>jakarta.annotation:jakarta.annotation-api</exclude>
                <exclude>org.javassist:javassist</exclude>
                <exclude>com.sun.mail:javax.mail</exclude>
                <exclude>javax.servlet:javax.servlet-api</exclude>
                <exclude>javax.xml.bind:jaxb-api</exclude>
                <exclude>com.sun.xml.bind:jaxb-core</exclude>
                <exclude>com.sun.xml.bind:jaxb-impl</exclude>
                <exclude>org.jboss.logging:jboss-logging</exclude>
                <exclude>joda-time:joda-time</exclude>
                <exclude>org.json:json</exclude>
                <exclude>org.slf4j:jul-to-slf4j</exclude>
                <exclude>com.esotericsoftware:kryo</exclude>
                <exclude>com.esotericsoftware:kryo-shaded</exclude>
                <exclude>org.apache.logging.log4j:log4j-api</exclude>
                <exclude>org.apache.logging.log4j:log4j-to-slf4j</exclude>
                <exclude>ch.qos.logback:logback-classic</exclude>
                <exclude>ch.qos.logback:logback-core</exclude>
                <exclude>org.apache.lucene:lucene-analyzers-common</exclude>
                <exclude>org.apache.lucene:lucene-core</exclude>
                <exclude>org.apache.lucene:lucene-queries</exclude>
                <exclude>org.apache.lucene:lucene-queryparser</exclude>
                <exclude>org.apache.lucene:lucene-sandbox</exclude>
                <exclude>com.esotericsoftware:minlog</exclude>
                <exclude>mysql:mysql-connector-java</exclude>
                <exclude>org.jboss.netty:netty</exclude>
                <exclude>org.objenesis:objenesis</exclude>
                <exclude>ognl:ognl</exclude>
                <exclude>com.google.protobuf:protobuf-java</exclude>
                <exclude>com.esotericsoftware:reflectasm</exclude>
                <exclude>org.slf4j:slf4j-api</exclude>
                <exclude>org.yaml:snakeyaml</exclude>
                <exclude>javax.validation:validation-api</exclude>
                <exclude>org.apache.tomcat.embed:tomcat-embed-websocket</exclude>
                <exclude>org.apache.tomcat.embed:tomcat-embed-el</exclude>
                <exclude>org.apache.tomcat.embed:tomcat-embed-core</exclude>
                <exclude>org.apache.tomcat:tomcat-annotations-api</exclude>
                <exclude>net.tiklab:tiklab-web-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-web-core</exclude>
                <exclude>net.tiklab:tiklab-utils</exclude>
                <exclude>net.tiklab:tiklab-user-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-toolkit-server</exclude>
                <exclude>net.tiklab:tiklab-toolkit-api</exclude>
                <exclude>net.tiklab:tiklab-rpc-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-rpc-server</exclude>
                <exclude>net.tiklab:tiklab-rpc-remoting</exclude>
                <exclude>net.tiklab:tiklab-rpc-common</exclude>
                <exclude>net.tiklab:tiklab-rpc-codec</exclude>
                <exclude>net.tiklab:tiklab-rpc-client</exclude>
                <exclude>net.tiklab:tiklab-rpc-annotation</exclude>
                <exclude>net.tiklab:tiklab-privilege-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-postin-annotation</exclude>
                <exclude>net.tiklab:tiklab-plugin-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-message-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-licence-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-eas-spring-boot-stater</exclude>
                <exclude>net.tiklab:tiklab-eam-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-dss-server</exclude>
                <exclude>net.tiklab:tiklab-dss-common</exclude>
                <exclude>net.tiklab:tiklab-dss-client</exclude>
                <exclude>net.tiklab:tiklab-dss-annotation</exclude>
                <exclude>net.tiklab:tiklab-dsm-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-dsm-core</exclude>
                <exclude>net.tiklab:tiklab-dsm-annotation</exclude>
                <exclude>net.tiklab:tiklab-dfs-web</exclude>
                <exclude>net.tiklab:tiklab-dfs-server</exclude>
                <exclude>net.tiklab:tiklab-dfs-common</exclude>
                <exclude>net.tiklab:tiklab-dfs-client</exclude>
                <exclude>net.tiklab:tiklab-dcs-server</exclude>
                <exclude>net.tiklab:tiklab-dcs-common</exclude>
                <exclude>net.tiklab:tiklab-dcs-client</exclude>
                <exclude>net.tiklab:tiklab-dal-spring-boot-starter</exclude>
                <exclude>net.tiklab:tiklab-dal-jpa</exclude>
                <exclude>net.tiklab:tiklab-dal-jdbc</exclude>
                <exclude>net.tiklab:tiklab-dal-datasource</exclude>
                <exclude>net.tiklab:tiklab-core</exclude>
                <exclude>net.tiklab:tiklab-tks-core</exclude>
                <exclude>net.tiklab:tiklab-tks-annotation</exclude>
                <exclude>org.springframework:spring-websocket</exclude>
                <exclude>org.springframework:spring-webmvc</exclude>
                <exclude>org.springframework:spring-web</exclude>
                <exclude>org.springframework:spring-tx</exclude>
                <exclude>org.springframework:spring-jdbc</exclude>
                <exclude>org.springframework:spring-jcl</exclude>
                <exclude>org.springframework:spring-expression</exclude>
                <exclude>org.springframework:spring-core</exclude>
                <exclude>org.springframework:spring-context</exclude>
                <exclude>org.springframework.boot:spring-boot-starter-web</exclude>
                <exclude>org.springframework.boot:spring-boot-starter-tomcat</exclude>
                <exclude>org.springframework.boot:spring-boot-starter-logging</exclude>
                <exclude>org.springframework.boot:spring-boot-starter-json</exclude>
                <exclude>org.springframework.boot:spring-boot-starter</exclude>
                <exclude>org.springframework.boot:spring-boot-autoconfigure</exclude>
                <exclude>org.springframework.boot:spring-boot</exclude>
                <exclude>org.springframework:spring-beans</exclude>
                <exclude>org.springframework:spring-aop</exclude>
                <exclude>org.yaml:snakeyaml</exclude>
            </excludes>
        </dependencySet>
    </dependencySets>
</assembly>